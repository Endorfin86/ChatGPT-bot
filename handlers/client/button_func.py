from aiogram import types
from create_bot import bot
from data_base import sql_db
from keyboards.client_kb.main_kb import ikeyboard_oppo, ikeyboard_premium

#–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
async def btn_oppo(message : types.Message):
    await message.delete()
    await bot.send_message(message.from_user.id, 
'''üî• –î–∞–≤–∞–π —Ä–∞—Å—Å–∫–∞–∂—É —á–µ–º —è –º–æ–≥—É —Ç–µ–±–µ –ø–æ–º–æ—á—å?\n\n\
1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑—é–º–µ. –° –º–æ–µ–π –ø–æ–º–æ—â—å—é —Ç—ã –º–æ–∂–µ—à—å —É—Å—Ç—Ä–æ–∏—Ç—å—Å—è –Ω–∞ —Ä–∞–±–æ—Ç—É –º–µ—á—Ç—ã, –≤–µ–¥—å —è –º–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å —Ö–æ—Ä–æ—à–µ–µ —Ä–µ–∑—é–º–µ\n\
2Ô∏è‚É£ –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ –ª—é–±—É—é —Ç–µ–º—É. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –≤ —Ä–∞–±–æ—Ç–µ –∏ —É—á–µ–±–µ\n\
3Ô∏è‚É£ –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç —Å –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞\n\
4Ô∏è‚É£ –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–±—è –≤–æ–ø—Ä–æ—Å—ã. –ß–∞—â–µ –≤—Å–µ–≥–æ —É –º–µ–Ω—è –ø–æ–ª—É—á–∞–µ—Ç—Å—è —ç—Ç–æ –ª—É—á—à–µ, —á–µ–º —É –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø–æ–∏—Å–∫–æ–≤–∏–∫–æ–≤\n\
5Ô∏è‚É£ –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥, –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –µ–≥–æ —Å –æ–¥–Ω–æ–≥–æ —è–∑—ã–∫–∞ –Ω–∞ –¥—Ä—É–≥–æ–π –∏ –Ω–∞–π—Ç–∏ –æ—à–∏–±–∫–∏\n\
6Ô∏è‚É£ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —Ä–∞—Å—á–µ—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç—ã –º–æ–∂–µ—à—å –∑–∞ —Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Å–µ–∫—É–Ω–¥—ã –ø–æ–ª—É—á–∏—Ç—å –≥–æ—Ç–æ–≤—ã–π –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è –¥–ª—è –ø–æ—Ö—É–¥–µ–Ω–∏—è\n\n\
üí°–≠—Ç–æ –ª–∏—à—å –º–∞–ª–∞—è —á–∞—Å—Ç—å –º–æ–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –ó–∞–¥–∞–≤–∞–π –º–Ω–µ –ª—é–±—ã–µ –∑–∞–¥–∞—á–∏, –∞ —è –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å —Ç–µ–±–µ –ø–æ–º–æ—á—å.\n\n\
üî• –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ, –Ω–∞–∂–º–∏ –Ω–∏–∂–µ –Ω–∞ "üí° –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥"  –∏ –Ω–∞–ø–∏—à–∏ –º–Ω–µ —Å–æ–æ–±—â–µ–Ω–∏–µ  üëáüèª''',
reply_markup=ikeyboard_oppo)

#–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –ø—Ä–µ–º–∏—É–º –¥–æ—Å—Ç—É–ø
async def btn_premium(message : types.Message):
    await message.delete()
    days = await sql_db.sql_check_limit_days(message.from_user.id)
    days = days[0]['days']
    requests = await sql_db.sql_check_limit_requests(message.from_user.id)
    requests = requests[0]['requests']
    await bot.send_message(message.from_user.id, 
f'''–î–æ—Å—Ç—É–ø–Ω–æ: {requests} –∑–∞–ø—Ä–æ—Å–æ–≤\n\n\
–î–æ—Å—Ç—É–ø–Ω–æ: {days} –¥–Ω–µ–π\n\n\
üî• –§—É–Ω–∫—Ü–∏–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è Premium-–∞–∫–∫–∞—É–Ω—Ç–æ–≤:\n\n\
üîò–ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –∫–æ–ª-–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤\n\
üîò–ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç\n\
üîò–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤''',
reply_markup=ikeyboard_premium)

#–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –¥–∏–∞–ª–æ–≥ –∑–∞–≤–µ—Ä—à–µ–Ω
async def btn_endtalk(message : types.Message):
    await message.delete()
    await bot.send_message(message.from_user.id, 'üîÑ –î–∏–∞–ª–æ–≥ –∑–∞–≤–µ—Ä—à–µ–Ω. –ü–∞–º—è—Ç—å –±–æ—Ç–∞ –æ—á–∏—â–µ–Ω–∞.')
    await sql_db.sql_clear_context(message.from_user.id, text='')